const TelegramBot = require('node-telegram-bot-api'); const token = '7460875581:AAGvPUKThgniIUicMA4SZ3sSProu_ylvLz8'; const bot = new TelegramBot(token, { polling: true }); const TARGET_CHAT_ID = '6105242266'; const prices = { WLD: 2.3619, NEIRO: 0.0828, MX: 3.2979, PUFFER: 0.3618, LUNA: 0.3723, OAS: 0.037179, PEPE: 0.0000104057 }; const formatUSD = (value) => { return new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD', minimumFractionDigits: 2, maximumFractionDigits: 2 }).format(value); }; const formatPercent = (value) => { return new Intl.NumberFormat('en-US', { style: 'percent', minimumFractionDigits: 2, maximumFractionDigits: 2 }).format(value); }; async function get(token) { const url = https://api.mexc.com/api/v3/ticker/24hr?symbol=${token}USDT; try { const response = await fetch(url); const json = await response.json(); const priceNumber = parseFloat(json.lastPrice); const price = formatUSD(priceNumber); const symbol = json.symbol; const highPrice = json.highPrice; const lowPrice = json.lowPrice; const avgPrice = prices[token]; // GiĂ¡ mua trung bĂ¬nh const percent = ((priceNumber - avgPrice) / avgPrice) * 100; // TĂ­nh toĂ¡n Ä‘Ăºng pháº§n trÄƒm tÄƒng/giáº£m await sendPriceAlert(token, priceNumber, highPrice, lowPrice, avgPrice, percent); } catch (error) { console.log("Lá»—i", error); } }; async function sendPriceAlert(symbol, price, highPrice, lowPrice, avgPrice, percent) { const text =  Cáº¢NH BĂ�O - ${symbol}/USDT GiĂ¡: ${price} đŸ”¼ High Price: ${highPrice} đŸ”½ Low Price: ${lowPrice} GiĂ¡ mua trung bĂ¬nh : ${avgPrice} TÄƒng/giáº£m : ${formatPercent(percent / 100)} ; await bot.sendMessage(TARGET_CHAT_ID, text); } setInterval(() => { const data = ['WLD', 'NEIRO', 'MX', 'PUFFER', 'LUNA', 'OAS', 'PEPE']; data.forEach((token, index) => { setTimeout(() => get(token), index * 2000); // Ä�áº£m báº£o ráº±ng má»—i lá»‡nh gá»�i cĂ¡ch nhau 2 giĂ¢y }); }, 60*5*1000);